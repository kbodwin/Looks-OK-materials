---
title: "NBA Player of the Week"
output: html_document
# Warning:  File created automatically from /Users/spareaccount/Documents/internship/that-seems-ok-to-me/NBA_Player_of_the_Week/nba_analysis.Rmd
# Do NOT edit this file directly, as it may be overwritten.
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, eval = TRUE)
library(tidyverse)
library(infer)
```


# Data Documentation: NBA Player of the Week 1984-2018

## Context

In the National Basketball Association (NBA), games are played between Fall and Spring each year, ending with a set of playoff games and a championship.  One "season" of games thus spans two calendar years. For example, the 2019-2020 season began on October 22, 2019 and will end on April 15, 2020. The playoffs will begin on April 18, 2020, and will end with the NBA Finals in June 2020. 

Teams in the NBA are organized into two Conferences:  East and West.  From time to time, as teams change locations or new teams are added, the conferences change.

Players join the NBA by being *drafted*, typically when they are 18 years old.

## This dataset

The dataset in this exam contains information about the "Player of the Week", awarded each week to the player(s) who performed the best during that week's games. 

Each observation in this dataset represents an instance of a certain player being awarded Player of the Week.

The variables in this dataset are:

![](/Users/spareaccount/Documents/internship/that-seems-ok-to-me/NBA_Player_of_the_Week/documentation.png)

```{r, message = FALSE}
nba <-read_csv("/Users/spareaccount/Documents/internship/that-seems-ok-to-me/NBA_Player_of_the_Week/NBA_player_of_the_week.csv")
```

# Data Cleaning and Adjusting


## Heights and Weights

Notice that the `Height` variable sometimes has numbers, and sometimes has the letters "cm" after it.  Similarly, the `Weight` variable sometimes has the letters "kg" after it. We need to fix this to make theses variables numeric.


```{r}
nba <- nba %>%
  mutate(
    Height = parse_number(Height),
    Weight = parse_number(Weight)
  )
```





# Player summaries

Number of unique players who have won "Player of the Week" in the timespan covered by this dataset:

```{r}
nba %>%
  distinct(Player) %>%
  nrow()
```

The teams that have had a player win the award the most times are:

```{r}
nba %>%
  count(Team) %>%
  top_n(3, n)
```

The players that have won the Player of the Week Award the most times are:
```{r}
nba %>%
  count(Player) %>%
  top_n(3, n)
```

# Positions and size

Basketball players play in "guard" positions (PG, SG, G) or "forward" positions (F, C, F-C, FC, G-F, GF, PF, SF).  It is generally expected that forwards are much taller than guards.  We will use the players in this dataset to analyze size differences between these positions.






## Refactoring position variable

We will create a new variable that identifies each player as simply a Guard or a Forward.

```{r}
nba <- nba %>% 
  mutate(
    Position_GF = case_when(
      str_detect(Position, "G") ~ "Guard",
      TRUE ~ "Forward"
    )) 
```


## Comparing Heights

The following plots show the heights and weights of players, separated by position.





```{r}
nba %>%
  ggplot(aes(x = Position_GF, y = Height)) +
  geom_col() +
  xlab("Position")

nba %>%
  ggplot(aes(x = Position_GF, y = Weight)) +
  geom_col() +
  xlab("Position")
```


We find that while Forwards weigh more than Guards, Guards are taller than Forwards.



# Different Guard positions

Among the Guard positions, there are two specialties:  Point Guard (PG) and Shooting Guard (SG).  We are interested in studying whether these positions also have a height difference.

The sample mean for each position is given below.

```{r}
nba %>%
  filter(Position %in% c("PG", "SG")) %>%
  group_by(Position) %>%
  summarize(mean(Height))
```

We will conduct a t-test at the 0.05 level.


Since it appears shooting guards are taller, our null hypothesis is that the true mean height of shooting guards is greater than the true mean height of point guards.


```{r}
my_test <- 
  nba %>%
    filter(Position %in% c("PG", "SG")) %>%
    t_test(Height ~ Position,
           order = c("PG", "SG"),
           alternative = "less"
    )
```




We obtain a t statistic of `r my_test$t_df`. This yields a p-value of `r my_test$p_value`.




We fail to reject the null hypothesis, and find that there is no detectable height difference between Point Guards and Shooting Guards.


